# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# PostgreSQL connection string with connection pooling
DATABASE_URL="postgresql://postgres:CHANGE_ME_password@localhost:5432/geminivideo?schema=public&connection_limit=10&pool_timeout=20"

# For production, use connection pooling:
# DATABASE_URL="postgresql://user:password@host:port/db?schema=public&connection_limit=20&pool_timeout=30&connect_timeout=10"

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
NODE_ENV=development
PORT=8000
FRONTEND_URL=http://localhost:3000

# ==============================================================================
# SECURITY CONFIGURATION - CRITICAL: CHANGE ALL SECRETS IN PRODUCTION!
# ==============================================================================

# JWT Secret Key - MUST BE CHANGED IN PRODUCTION!
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_your-super-secret-jwt-key-minimum-32-characters-long

# API Keys for internal service authentication (comma-separated, hashed)
# Generate with: openssl rand -hex 32
API_KEYS=CHANGE_ME_your-api-key-here

# Bcrypt Salt Rounds (10-12 recommended for production)
BCRYPT_SALT_ROUNDS=12

# Session Secret for cookie signing
# Generate with: openssl rand -base64 64
SESSION_SECRET=CHANGE_ME_your-session-secret-minimum-32-characters-long

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
# Allowed origins for CORS (comma-separated)
# Example: http://localhost:3000,https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ==============================================================================
# RATE LIMITING CONFIGURATION
# ==============================================================================
# Global rate limit (requests per 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Auth rate limit (requests per 15 minutes)
AUTH_RATE_LIMIT_MAX=5

# API rate limit (requests per minute)
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX=60

# Upload rate limit (requests per hour)
UPLOAD_RATE_LIMIT_WINDOW_MS=3600000
UPLOAD_RATE_LIMIT_MAX=10

# ==============================================================================
# FIREBASE AUTHENTICATION
# ==============================================================================
# Method 1: Service Account File Path
FIREBASE_SERVICE_ACCOUNT_PATH=/path/to/serviceAccountKey.json

# Method 2: Individual Environment Variables (for Cloud environments)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"
FIREBASE_STORAGE_BUCKET=your-project.appspot.com

# Firebase Auth URLs
EMAIL_VERIFICATION_REDIRECT_URL=http://localhost:3000/verify-email
PASSWORD_RESET_REDIRECT_URL=http://localhost:3000/reset-password

# ==============================================================================
# GOOGLE CLOUD CONFIGURATION
# ==============================================================================
GCS_BUCKET=geminivideo-dev
GCS_PROJECT_ID=geminivideo-project
GOOGLE_APPLICATION_CREDENTIALS=/path/to/gcp-service-account.json

# Google Gemini API
GEMINI_API_KEY=CHANGE_ME_your-gemini-api-key

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
# Redis for caching, sessions, rate limiting, and pub/sub
REDIS_URL=redis://localhost:6379
# For Redis with password: redis://:password@localhost:6379
# For Redis with SSL/TLS: rediss://username:password@hostname:6380
# Redis Cluster (optional - comma-separated nodes):
# REDIS_CLUSTER_NODES=redis1:6379,redis2:6379,redis3:6379
REDIS_ENABLED=true

# ==============================================================================
# META ADS CONFIGURATION
# ==============================================================================
META_APP_ID=your-meta-app-id
META_APP_SECRET=CHANGE_ME_your-meta-app-secret
META_ACCESS_TOKEN=CHANGE_ME_your-meta-access-token
META_AD_ACCOUNT_ID=act_1234567890

# Meta Conversions API
META_PIXEL_ID=1234567890
META_CONVERSIONS_API_TOKEN=CHANGE_ME_your-conversions-api-token

# ==============================================================================
# GOOGLE ADS CONFIGURATION
# ==============================================================================
GOOGLE_ADS_DEVELOPER_TOKEN=CHANGE_ME_your-developer-token
GOOGLE_ADS_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_ADS_CLIENT_SECRET=CHANGE_ME_your-client-secret
GOOGLE_ADS_REFRESH_TOKEN=CHANGE_ME_your-refresh-token
GOOGLE_ADS_CUSTOMER_ID=1234567890

# ==============================================================================
# TIKTOK ADS CONFIGURATION
# ==============================================================================
TIKTOK_APP_ID=your-tiktok-app-id
TIKTOK_APP_SECRET=CHANGE_ME_your-tiktok-app-secret
TIKTOK_ACCESS_TOKEN=CHANGE_ME_your-tiktok-access-token
TIKTOK_ADVERTISER_ID=1234567890

# ==============================================================================
# INTERNAL SERVICE URLS
# ==============================================================================
ML_SERVICE_URL=http://localhost:8003
TITAN_CORE_URL=http://localhost:8004
VIDEO_AGENT_URL=http://localhost:8002
DRIVE_INTEL_URL=http://localhost:8001
META_PUBLISHER_URL=http://localhost:8083
GOOGLE_ADS_URL=http://localhost:8084
TIKTOK_ADS_URL=http://localhost:8085

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
LOG_LEVEL=info
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ENABLE_SENTRY=false

# ==============================================================================
# SECURITY HEADERS CONFIGURATION
# ==============================================================================
# Strict-Transport-Security max age (in seconds)
HSTS_MAX_AGE=31536000

# Content Security Policy (CSP) directives
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self','unsafe-inline'
CSP_STYLE_SRC='self','unsafe-inline'

# ==============================================================================
# FILE UPLOAD LIMITS
# ==============================================================================
MAX_FILE_SIZE_MB=500
MAX_REQUEST_BODY_SIZE=10mb

# ==============================================================================
# WEBHOOK SECRETS
# ==============================================================================
META_WEBHOOK_SECRET=CHANGE_ME_your-meta-webhook-secret
GOOGLE_WEBHOOK_SECRET=CHANGE_ME_your-google-webhook-secret
TIKTOK_WEBHOOK_SECRET=CHANGE_ME_your-tiktok-webhook-secret

# ==============================================================================
# ANYTRACK INTEGRATION
# ==============================================================================
ANYTRACK_API_KEY=CHANGE_ME_your-anytrack-api-key
ANYTRACK_WORKSPACE_ID=your-workspace-id

# ==============================================================================
# ENCRYPTION KEYS
# ==============================================================================
# Data encryption key for sensitive fields (AES-256)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=CHANGE_ME_your-encryption-key-32-bytes-base64-encoded

# ==============================================================================
# PRODUCTION SECURITY CHECKLIST
# ==============================================================================
# Before deploying to production, ensure:
# [ ] All "CHANGE_ME_" values have been replaced with secure secrets
# [ ] JWT_SECRET is at least 32 characters and randomly generated
# [ ] All API keys and tokens are from production accounts
# [ ] ALLOWED_ORIGINS only includes your production domains
# [ ] REDIS_URL uses authentication (password)
# [ ] DATABASE_URL uses strong password and SSL if possible
# [ ] All webhook secrets are configured
# [ ] SENTRY_DSN is configured for error tracking
# [ ] NODE_ENV is set to "production"
# [ ] Rate limiting is properly configured
# [ ] This .env file is NOT committed to git (.gitignore)
# ==============================================================================
