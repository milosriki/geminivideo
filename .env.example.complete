# =============================================================================
# COMPLETE ENVIRONMENT CONFIGURATION
# €5M Investment-Grade Ad Platform
# =============================================================================
# This file contains ALL environment variables needed for the platform.
# Copy to .env or .env.production and fill in your actual values.
# =============================================================================

# =============================================================================
# 1. DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment: development, staging, production
NODE_ENV=production
VITE_ENV=production

# Deployment target: docker, cloud-run, kubernetes
DEPLOYMENT_TARGET=docker

# Image registry (for container deployments)
REGISTRY_URL=us-central1-docker.pkg.dev/your-project/geminivideo
IMAGE_TAG=latest

# =============================================================================
# 2. DATABASE CONFIGURATION (REQUIRED)
# =============================================================================

# PostgreSQL Primary Database
POSTGRES_USER=geminivideo
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD_MIN_32_CHARS_RECOMMENDED
POSTGRES_DB=geminivideo
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# PostgreSQL Performance Tuning
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

# Full PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://geminivideo:CHANGE_ME_SECURE_PASSWORD@postgres:5432/geminivideo

# Alternative: Supabase (managed PostgreSQL)
# If using Supabase, comment out DATABASE_URL above and use these:
# SUPABASE_URL=https://your-project-id.supabase.co
# SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_DB_PASSWORD=your_database_password
# DATABASE_URL=postgresql://postgres:your_password@db.your-project.supabase.co:5432/postgres

# Database Connection Pooling
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_TIMEOUT=20000
DATABASE_POOL_IDLE_TIMEOUT=30000

# =============================================================================
# 3. CACHE / REDIS CONFIGURATION (REQUIRED)
# =============================================================================

# Redis (self-hosted)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# OR: Redis Cloud / Managed Redis
# REDIS_URL=redis://username:password@your-redis-cloud.com:12345

# OR: Upstash (Serverless Redis)
# UPSTASH_REDIS_REST_URL=https://your-region.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_upstash_token

# Redis Configuration
REDIS_ENABLED=true
REDIS_TTL_DEFAULT=3600
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# =============================================================================
# 4. AI MODEL API KEYS (REQUIRED)
# =============================================================================

# Google Gemini API (REQUIRED - primary AI model)
GEMINI_API_KEY=AIza...your_gemini_api_key_here
GEMINI_MODEL_ID=gemini-2.0-flash-thinking-exp-1219
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=8192

# Anthropic Claude API (Optional - for multi-model ensemble)
ANTHROPIC_API_KEY=sk-ant-...your_anthropic_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4096

# OpenAI GPT-4 API (Optional - for multi-model ensemble)
OPENAI_API_KEY=sk-...your_openai_key_here
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# =============================================================================
# 5. AI VIDEO GENERATION APIS (Optional - Next-Gen Features)
# =============================================================================

# Runway Gen-3 Alpha (Production-ready video generation)
RUNWAY_API_KEY=your_runway_api_key_here

# Kling AI (Realistic motion and human subjects)
KLING_API_KEY=your_kling_api_key_here

# Pika Labs (Fast drafts and iterations)
PIKA_API_KEY=your_pika_api_key_here

# Note: OpenAI Sora uses OPENAI_API_KEY (limited access)

# =============================================================================
# 6. VOICE GENERATION APIS (Optional)
# =============================================================================

# ElevenLabs (Premium voice synthesis)
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
ELEVENLABS_VOICE_ID=default

# OpenAI TTS (uses OPENAI_API_KEY above)
OPENAI_TTS_MODEL=tts-1-hd
OPENAI_TTS_VOICE=alloy

# =============================================================================
# 7. META / FACEBOOK ADS CONFIGURATION
# =============================================================================

# Meta App Credentials (from developers.facebook.com)
META_APP_ID=1234567890123456
META_APP_SECRET=abcdef1234567890abcdef1234567890
META_CLIENT_TOKEN=abcdef1234567890abcdef1234567890

# Meta Access Token (Long-lived token from Graph API Explorer)
META_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
META_ACCESS_TOKEN_EXPIRY=2025-12-31

# Meta Business Account
META_BUSINESS_ACCOUNT_ID=1234567890123456
META_AD_ACCOUNT_ID=act_1234567890
META_PAGE_ID=1234567890123456

# Meta Pixel
META_PIXEL_ID=1234567890123456
META_CONVERSION_API_TOKEN=your_capi_token_here

# Meta API Configuration
META_API_VERSION=v18.0
META_RATE_LIMIT_TIER=standard

# Sandbox/Testing
META_SANDBOX_MODE=false
META_SANDBOX_TOKEN=

# =============================================================================
# 8. GOOGLE ADS API CONFIGURATION
# =============================================================================

# OAuth2 Client Credentials (from Google Cloud Console)
GOOGLE_CLIENT_ID=123456789012-abcdefghijklmnop.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Google Ads Developer Token
GOOGLE_DEVELOPER_TOKEN=your_developer_token_here

# OAuth2 Refresh Token (from OAuth flow)
GOOGLE_REFRESH_TOKEN=1//0abcdefghijklmnop

# Google Ads Account
GOOGLE_ADS_CUSTOMER_ID=1234567890
GOOGLE_ADS_MANAGER_CUSTOMER_ID=1234567890

# Google Ads API Configuration
GOOGLE_ADS_API_VERSION=v16
GOOGLE_ADS_LOGIN_CUSTOMER_ID=1234567890

# =============================================================================
# 9. TIKTOK ADS CONFIGURATION
# =============================================================================

# TikTok Business Center Credentials
TIKTOK_APP_ID=your_tiktok_app_id
TIKTOK_APP_SECRET=your_tiktok_app_secret

# TikTok Access Token
TIKTOK_ACCESS_TOKEN=your_tiktok_access_token_here
TIKTOK_ACCESS_TOKEN_EXPIRY=2025-12-31

# TikTok Advertiser Account
TIKTOK_ADVERTISER_ID=your_advertiser_id_here
TIKTOK_BUSINESS_CENTER_ID=your_business_center_id

# TikTok API Configuration
TIKTOK_API_VERSION=v1.3
TIKTOK_SANDBOX_MODE=false

# =============================================================================
# 10. GOOGLE CLOUD PLATFORM (GCP)
# =============================================================================

# GCP Project Configuration
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# Service Account (for local/container deployments)
GCP_SERVICE_ACCOUNT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
GCP_SERVICE_ACCOUNT_JSON=/secrets/gcp-service-account.json
# OR inline JSON (base64 encoded):
# GCP_SERVICE_ACCOUNT_JSON_BASE64=eyJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsIC4uLn0=

# Google Cloud Storage
GCS_BUCKET_NAME=your-gcs-bucket-name
GCS_BUCKET_REGION=us-central1
GCS_STORAGE_CLASS=STANDARD

# Cloud Run (if deploying to Cloud Run)
CLOUD_RUN_REGION=us-central1
CLOUD_RUN_MIN_INSTANCES=1
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_TIMEOUT=600
CLOUD_RUN_MEMORY=2Gi
CLOUD_RUN_CPU=2
CLOUD_RUN_SERVICE_ACCOUNT=your-service-account@project.iam.gserviceaccount.com

# =============================================================================
# 11. AWS / S3 STORAGE (Alternative to GCS)
# =============================================================================

# AWS Credentials
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-east-1

# S3 Configuration
S3_BUCKET=your-s3-bucket-name
S3_ENDPOINT=https://s3.amazonaws.com
S3_USE_PATH_STYLE_ENDPOINT=false
S3_FORCE_PATH_STYLE=false

# S3 Advanced Configuration
S3_SIGNATURE_VERSION=s3v4
S3_MAX_RETRIES=3
S3_TIMEOUT=30000

# =============================================================================
# 12. CLOUDFLARE R2 STORAGE (S3-compatible)
# =============================================================================

# R2 Credentials (from Cloudflare Dashboard)
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_ACCOUNT_ID=your_cloudflare_account_id

# R2 Configuration
R2_BUCKET=your-r2-bucket-name
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_PUBLIC_URL=https://your-bucket.your-domain.com

# For R2, use these as AWS env vars (R2 is S3-compatible)
# AWS_ACCESS_KEY_ID=${R2_ACCESS_KEY_ID}
# AWS_SECRET_ACCESS_KEY=${R2_SECRET_ACCESS_KEY}
# S3_BUCKET=${R2_BUCKET}
# S3_ENDPOINT=${R2_ENDPOINT}

# =============================================================================
# 13. CLOUDFLARE EDGE / WORKERS CONFIGURATION
# =============================================================================

# Cloudflare Account
CLOUDFLARE_ACCOUNT_ID=your_32_char_cloudflare_account_id_here
CLOUDFLARE_ZONE_ID=your_32_char_zone_id_here

# Cloudflare API Token (from Cloudflare Dashboard > My Profile > API Tokens)
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_min_40_chars

# Cloudflare Stream (for video hosting)
CLOUDFLARE_STREAM_ACCOUNT_ID=your_stream_account_id
CLOUDFLARE_STREAM_API_TOKEN=your_stream_api_token

# Cloudflare Images
CLOUDFLARE_IMAGES_ACCOUNT_HASH=your_images_hash
CLOUDFLARE_IMAGES_API_TOKEN=your_images_token

# Cloudflare Workers Configuration
CLOUDFLARE_WORKER_NAME=geminivideo-edge
CLOUDFLARE_WORKER_ROUTES=https://your-domain.com/*

# Edge Configuration
ENABLE_EDGE_ANALYTICS=true
ENABLE_SMART_ROUTING=true
CACHE_TTL_SECONDS=3600

# =============================================================================
# 14. FIREBASE CONFIGURATION (Frontend Authentication)
# =============================================================================

# Firebase Project Configuration (from Firebase Console)
VITE_FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
VITE_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project-id.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abcdef123456789012
VITE_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# Firebase Admin SDK (for backend)
FIREBASE_ADMIN_PROJECT_ID=your-project-id
FIREBASE_ADMIN_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# OR path to service account JSON:
# FIREBASE_SERVICE_ACCOUNT=/secrets/firebase-admin-sdk.json

# =============================================================================
# 15. SECURITY CONFIGURATION (REQUIRED)
# =============================================================================

# JWT Secret (Generate with: openssl rand -base64 64)
JWT_SECRET=your_very_long_random_secret_key_minimum_32_characters_recommended_64_or_more
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# API Keys / Secrets
API_SECRET=your_api_secret_for_service_to_service_auth
API_KEY_HEADER=X-API-Key

# Encryption Keys (for sensitive data at rest)
ENCRYPTION_KEY=your_32_byte_encryption_key_hex_encoded_64_chars
ENCRYPTION_ALGORITHM=aes-256-gcm

# Session Secret (for session management)
SESSION_SECRET=your_session_secret_minimum_32_characters

# CORS Configuration
CORS_ORIGINS=https://your-frontend-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS=false

# =============================================================================
# 16. SERVICE URLs (Internal & External)
# =============================================================================

# External URLs (for frontend)
VITE_API_BASE_URL=https://api.your-domain.com
VITE_GATEWAY_URL=https://gateway.your-domain.com
VITE_DRIVE_INTEL_URL=https://drive-intel.your-domain.com

# Internal Service URLs (Docker Compose / Kubernetes)
GATEWAY_API_URL=http://gateway-api:8080
DRIVE_INTEL_URL=http://drive-intel:8081
VIDEO_AGENT_URL=http://video-agent:8082
ML_SERVICE_URL=http://ml-service:8003
META_PUBLISHER_URL=http://meta-publisher:8083
TITAN_CORE_URL=http://titan-core:8084
TIKTOK_ADS_URL=http://tiktok-ads:8085
GOOGLE_ADS_URL=http://google-ads:8086

# Service Ports
PORT=8080
GATEWAY_PORT=8080
DRIVE_INTEL_PORT=8081
VIDEO_AGENT_PORT=8082
ML_SERVICE_PORT=8003
META_PUBLISHER_PORT=8083
TITAN_CORE_PORT=8084

# =============================================================================
# 17. APPLICATION CONFIGURATION
# =============================================================================

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TIMESTAMP=true
DEBUG=false

# Performance
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_PROFILING=false

# Features
ENABLE_ANALYTICS=true
ENABLE_AB_TESTING=true
ENABLE_THOMPSON_SAMPLING=true
ENABLE_MCP_INTEGRATION=false

# Storage Paths
TEMP_STORAGE_PATH=/tmp/geminivideo
OUTPUT_STORAGE_PATH=/app/data/outputs
CONFIG_PATH=/app/shared/config
VOICEOVER_DIR=/tmp/geminivideo/voiceovers
ASSET_DIR=/tmp/geminivideo/assets
CACHE_DIR=/tmp/geminivideo/cache

# Video Processing
MAX_VIDEO_SIZE_MB=500
VIDEO_QUALITY=high
FFMPEG_THREADS=4
VIDEO_OUTPUT_FORMAT=mp4
VIDEO_CODEC=h264

# ML Model Configuration
ML_MODEL_PATH=/app/models
MIN_SAMPLES_FOR_UPDATE=50
LEARNING_RATE=0.01
MAX_WEIGHT_DELTA=0.1

# A/B Testing
MIN_CONVERSIONS_FOR_WINNER=30
AB_TEST_CONFIDENCE_LEVEL=0.95
AB_TEST_MIN_SAMPLE_SIZE=100

# Knowledge Base
KNOWLEDGE_RELOAD_INTERVAL=300
KNOWLEDGE_BASE_PATH=/app/shared/config

# =============================================================================
# 18. WORKER CONFIGURATION
# =============================================================================

# Drive Intel Workers
DRIVE_INTEL_MAX_WORKERS=4
DRIVE_INTEL_BATCH_SIZE=10
DRIVE_WORKER_CONCURRENCY=4
DRIVE_WORKER_REPLICAS=2

# Video Agent Workers
VIDEO_WORKER_CONCURRENCY=2
VIDEO_WORKER_REPLICAS=2
VIDEO_WORKER_TIMEOUT=600

# ML Service Workers
ML_WORKER_CONCURRENCY=4
ML_WORKER_GPU_ENABLED=false

# General Worker Config
WORKER_SHUTDOWN_TIMEOUT=30
WORKER_HEARTBEAT_INTERVAL=10

# =============================================================================
# 19. MONITORING & OBSERVABILITY
# =============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog (APM & Metrics)
DATADOG_API_KEY=your_datadog_api_key
DATADOG_APP_KEY=your_datadog_app_key
DATADOG_SITE=datadoghq.com
DATADOG_SERVICE_NAME=geminivideo
DATADOG_ENV=production

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
NEW_RELIC_APP_NAME=GeminiVideo Production

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_URL=http://grafana:3001
GRAFANA_API_KEY=your_grafana_api_key

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# =============================================================================
# 20. BACKUP & DISASTER RECOVERY
# =============================================================================

# Database Backups
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=30
BACKUP_BUCKET=gs://your-backup-bucket
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key

# Point-in-Time Recovery
PITR_ENABLED=true
WAL_ARCHIVE_BUCKET=gs://your-wal-archive-bucket

# =============================================================================
# 21. EMAIL / NOTIFICATIONS
# =============================================================================

# SMTP Configuration (for email notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@your-domain.com
SMTP_FROM_NAME=GeminiVideo Platform

# SendGrid (alternative)
# SENDGRID_API_KEY=SG.your_sendgrid_api_key

# Slack Integration (for alerts)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXX
SLACK_CHANNEL=#alerts
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token

# Discord Webhooks
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url

# =============================================================================
# 22. SSL/TLS CONFIGURATION
# =============================================================================

# SSL Certificates (for Docker deployment with reverse proxy)
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/your-domain.pem
SSL_KEY_PATH=/etc/ssl/private/your-domain-key.pem
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.pem

# Let's Encrypt (for automatic SSL)
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_STAGING=false

# =============================================================================
# 23. THIRD-PARTY INTEGRATIONS
# =============================================================================

# Stripe (for payments/billing)
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Zapier (for workflow automation)
ZAPIER_WEBHOOK_URL=https://hooks.zapier.com/hooks/catch/your-webhook-id/

# Segment (for analytics)
SEGMENT_WRITE_KEY=your_segment_write_key

# Mixpanel (for product analytics)
MIXPANEL_TOKEN=your_mixpanel_token

# =============================================================================
# 24. DEVELOPMENT / TESTING
# =============================================================================

# Development Mode
VITE_ENABLE_DEVTOOLS=false
HOT_RELOAD_ENABLED=false

# Testing
TEST_DATABASE_URL=postgresql://test:test@localhost:5433/geminivideo_test
TEST_REDIS_URL=redis://localhost:6380
RUN_INTEGRATION_TESTS=false

# Mock Data (for development)
USE_MOCK_AI=false
USE_MOCK_ADS=false
MOCK_DELAY_MS=100

# =============================================================================
# VALIDATION CHECKLIST
# =============================================================================
#
# Before deploying to production, ensure:
#
# [✓] All REQUIRED sections are filled out (Database, Redis, AI APIs, Security)
# [✓] All passwords are strong (min 32 chars, random generation recommended)
# [✓] JWT_SECRET is randomly generated: openssl rand -base64 64
# [✓] API keys are valid and have appropriate quotas/rate limits
# [✓] CORS_ORIGINS includes only your actual domains (no wildcards in prod)
# [✓] SSL certificates are configured (if not using managed service)
# [✓] Database backups are enabled and tested
# [✓] Monitoring and alerting are configured
# [✓] Secrets are stored securely (use secret manager, not .env in production)
# [✓] Environment variables are set in deployment platform (not committed to git)
# [✓] Run validation: bash scripts/validate-env.sh .env.production
#
# =============================================================================
