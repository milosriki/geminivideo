# =============================================================================
# GeminiVideo Environment Variables
# =============================================================================
# SECURITY: Never commit actual credentials to version control
# Copy this file to .env and fill in your actual values
# =============================================================================

# =============================================================================
# Database Configuration (REQUIRED)
# =============================================================================

# PostgreSQL Primary Database
POSTGRES_USER=geminivideo
POSTGRES_PASSWORD=your_secure_password_min_32_chars
POSTGRES_DB=geminivideo
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Full PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# For asyncpg (Python): postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql://geminivideo:your_secure_password@postgres:5432/geminivideo

# Database Connection Pooling (Optional)
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_TIMEOUT=20000

# Alternative: Supabase (Managed PostgreSQL)
# If using Supabase, uncomment these and update DATABASE_URL accordingly
# SUPABASE_URL=https://your-project-id.supabase.co
# SUPABASE_ANON_KEY=your_supabase_anon_key
# SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
# SUPABASE_DB_PASSWORD=your_database_password
# DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# =============================================================================
# Cache / Redis Configuration (REQUIRED)
# =============================================================================

# Redis connection string
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=true

# Redis Advanced Configuration (Optional)
REDIS_TTL_DEFAULT=3600
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# Alternative: Redis Cloud / Upstash
# REDIS_URL=redis://username:password@your-redis-cloud.com:12345
# UPSTASH_REDIS_REST_URL=https://your-region.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your_upstash_token

# =============================================================================
# Service URLs (Docker Internal)
# =============================================================================

# Internal microservice URLs (Docker Compose networking)
GATEWAY_API_URL=http://gateway-api:8000
ML_SERVICE_URL=http://ml-service:8004
VIDEO_AGENT_URL=http://video-agent:8001
DRIVE_INTEL_URL=http://drive-intel:8002
RAG_SERVICE_URL=http://rag-service:8003
TITAN_CORE_URL=http://titan-core:8084
META_PUBLISHER_URL=http://meta-publisher:8083
TIKTOK_ADS_URL=http://tiktok-ads:8085
GOOGLE_ADS_URL=http://google-ads:8086

# Service Ports (Optional overrides)
PORT=8000
GATEWAY_PORT=8000
DRIVE_INTEL_PORT=8001
VIDEO_AGENT_PORT=8002
ML_SERVICE_PORT=8004
META_PUBLISHER_PORT=8083
TITAN_CORE_PORT=8084

# External Gateway URL (for frontend)
GATEWAY_URL=http://localhost:8000

# =============================================================================
# Authentication & Security (REQUIRED for Production)
# =============================================================================

# JWT Secret (Generate with: openssl rand -base64 64)
JWT_SECRET=your_jwt_secret_minimum_32_characters_recommended_64_or_more
JWT_ALGORITHM=HS256
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# API Keys / Secrets
API_SECRET=your_api_secret_for_service_auth
API_KEY_HEADER=X-API-Key

# Session Secret (for session management)
SESSION_SECRET=your_session_secret_minimum_32_characters

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# Meta / Facebook Ads Integration (REQUIRED for Meta Publisher)
# =============================================================================

# Meta App Credentials (from developers.facebook.com)
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_CLIENT_TOKEN=your_meta_client_token

# Meta Access Token (Long-lived token from Graph API Explorer)
# Get from: https://developers.facebook.com/tools/explorer/
META_ACCESS_TOKEN=your_meta_access_token

# Meta Business Account
META_BUSINESS_ACCOUNT_ID=your_business_account_id
META_AD_ACCOUNT_ID=act_1234567890
META_PAGE_ID=your_page_id

# Meta Pixel (for tracking)
META_PIXEL_ID=your_pixel_id
META_CONVERSION_API_TOKEN=your_capi_token

# Meta API Configuration
META_API_VERSION=v18.0
META_SANDBOX_MODE=false
META_SANDBOX_TOKEN=

# =============================================================================
# Google Ads API Configuration
# =============================================================================

# OAuth2 Client Credentials (from Google Cloud Console)
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Google Ads Developer Token
GOOGLE_DEVELOPER_TOKEN=your_developer_token

# OAuth2 Refresh Token (from OAuth flow)
GOOGLE_REFRESH_TOKEN=your_refresh_token

# Google Ads Account
GOOGLE_ADS_CUSTOMER_ID=1234567890
GOOGLE_ADS_MANAGER_CUSTOMER_ID=
GOOGLE_ADS_LOGIN_CUSTOMER_ID=

# Google Ads API Configuration
GOOGLE_ADS_API_VERSION=v16

# =============================================================================
# TikTok Ads Configuration
# =============================================================================

# TikTok Business Center Credentials
TIKTOK_APP_ID=your_tiktok_app_id
TIKTOK_APP_SECRET=your_tiktok_app_secret

# TikTok Access Token
TIKTOK_ACCESS_TOKEN=your_tiktok_access_token

# TikTok Advertiser Account
TIKTOK_ADVERTISER_ID=your_advertiser_id
TIKTOK_BUSINESS_CENTER_ID=your_business_center_id

# TikTok API Configuration
TIKTOK_API_VERSION=v1.3
TIKTOK_SANDBOX_MODE=false

# =============================================================================
# AI Services API Keys (REQUIRED)
# =============================================================================

# Google Gemini API (REQUIRED - primary AI model)
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL_ID=gemini-2.0-flash-thinking-exp-1219
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=8192

# Anthropic Claude API (Optional - for multi-model ensemble)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4096

# OpenAI GPT-4 API (Optional - for multi-model ensemble and TTS)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# OpenAI TTS Configuration
OPENAI_TTS_MODEL=tts-1-hd
OPENAI_TTS_VOICE=alloy

# ElevenLabs (Premium voice synthesis)
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
ELEVENLABS_VOICE_ID=default

# =============================================================================
# AI Video Generation APIs (Optional - Next-Gen Features)
# =============================================================================

# Runway Gen-3 Alpha (Production-ready video generation)
# Get API key: https://runwayml.com/
RUNWAY_API_KEY=your_runway_api_key_here

# Kling AI (Realistic motion and human subjects)
# Get API key: https://klingai.com/
KLING_API_KEY=your_kling_api_key_here

# Pika Labs (Fast drafts and iterations)
# Get API key: https://pika.art/
PIKA_API_KEY=your_pika_api_key_here

# Note: OpenAI Sora uses OPENAI_API_KEY (limited access)

# =============================================================================
# Google Cloud Platform (GCP)
# =============================================================================

# GCP Project Configuration
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# Service Account (for local/container deployments)
GCP_SERVICE_ACCOUNT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
GCP_SERVICE_ACCOUNT_JSON=/secrets/gcp-service-account.json
GOOGLE_APPLICATION_CREDENTIALS=/secrets/gcp-service-account.json

# OR inline JSON (base64 encoded):
# GCP_SERVICE_ACCOUNT_JSON_BASE64=eyJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsIC4uLn0=

# Google Cloud Storage
GCS_BUCKET=your-gcs-bucket-name
GCS_BUCKET_NAME=your-gcs-bucket-name
GCS_BUCKET_REGION=us-central1
GCS_STORAGE_CLASS=STANDARD

# Cloud Run (if deploying to Cloud Run)
CLOUD_RUN_REGION=us-central1
CLOUD_RUN_MIN_INSTANCES=1
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_TIMEOUT=600
CLOUD_RUN_MEMORY=2Gi
CLOUD_RUN_CPU=2
CLOUD_RUN_SERVICE_ACCOUNT=your-service-account@project.iam.gserviceaccount.com

# =============================================================================
# Firebase Configuration (Frontend Authentication & Storage)
# =============================================================================

# Firebase Project Configuration (from Firebase Console)
# Get from: https://console.firebase.google.com/
VITE_FIREBASE_API_KEY=your_firebase_api_key
VITE_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project-id.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abcdef123456
VITE_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# Firebase Admin SDK (Backend)
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_STORAGE_BUCKET=your-project-id.firebasestorage.app
# OR path to service account JSON:
# FIREBASE_SERVICE_ACCOUNT_PATH=/secrets/firebase-admin-sdk.json

# =============================================================================
# Frontend Configuration (Vite)
# =============================================================================

# API URLs for Frontend
VITE_API_URL=http://localhost:8000
VITE_API_BASE_URL=http://localhost:8000
VITE_GATEWAY_URL=http://localhost:8000
VITE_DRIVE_INTEL_URL=http://localhost:8001
VITE_VIDEO_AGENT_URL=http://localhost:8002
VITE_META_PUBLISHER_URL=http://localhost:8083

# WebSocket URL
VITE_WS_URL=ws://localhost:8000

# Environment
VITE_ENV=development

# Feature Flags
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_PERFORMANCE=true
VITE_ENABLE_DEVTOOLS=false

# Meta Pixel (Frontend tracking)
VITE_META_PIXEL_ID=your_pixel_id_here

# =============================================================================
# Application Configuration
# =============================================================================

# Environment: development, staging, production
NODE_ENV=development
ENVIRONMENT=development

# Deployment target: docker, cloud-run, kubernetes
DEPLOYMENT_TARGET=docker

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_DIR=/tmp/logs
DEBUG=false

# Service Name (for logging/monitoring)
SERVICE_NAME=gateway-api

# =============================================================================
# Feature Flags
# =============================================================================

# Performance & Analytics
ENABLE_ANALYTICS=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_PROFILING=false

# Features
ENABLE_AB_TESTING=true
ENABLE_THOMPSON_SAMPLING=true
ENABLE_MCP_INTEGRATION=false

# =============================================================================
# Storage Paths
# =============================================================================

# Shared Config Path
CONFIG_PATH=/app/shared/config
KNOWLEDGE_BASE_PATH=/app/shared/config

# Temporary Storage
TEMP_STORAGE_PATH=/tmp/geminivideo
OUTPUT_STORAGE_PATH=/app/data/outputs
CACHE_DIR=/tmp/geminivideo/cache

# Video Processing Directories
ASSET_DIR=/tmp/geminivideo/assets
VOICEOVER_DIR=/tmp/geminivideo/voiceovers
OUTPUT_DIR=/tmp/outputs

# =============================================================================
# Video Processing Configuration
# =============================================================================

# Video Limits
MAX_VIDEO_SIZE_MB=500

# Video Quality Settings
VIDEO_QUALITY=high
VIDEO_OUTPUT_FORMAT=mp4
VIDEO_CODEC=h264
FFMPEG_THREADS=4

# =============================================================================
# ML Model Configuration
# =============================================================================

# Model Paths
ML_MODEL_PATH=/app/models

# Training Parameters
MIN_SAMPLES_FOR_UPDATE=50
LEARNING_RATE=0.01
MAX_WEIGHT_DELTA=0.1

# =============================================================================
# A/B Testing & Thompson Sampling
# =============================================================================

# Thompson Sampling Configuration
MIN_CONVERSIONS_FOR_WINNER=30
AB_TEST_CONFIDENCE_LEVEL=0.95
AB_TEST_MIN_SAMPLE_SIZE=100

# Knowledge Base Auto-Reload
KNOWLEDGE_RELOAD_INTERVAL=300

# =============================================================================
# Worker Configuration
# =============================================================================

# Drive Intel Workers
DRIVE_INTEL_MAX_WORKERS=4
DRIVE_INTEL_BATCH_SIZE=10
DRIVE_WORKER_CONCURRENCY=4
DRIVE_WORKER_REPLICAS=2

# Video Agent Workers
VIDEO_WORKER_CONCURRENCY=2
VIDEO_WORKER_REPLICAS=2
VIDEO_WORKER_TIMEOUT=600

# ML Service Workers
ML_WORKER_CONCURRENCY=4
ML_WORKER_GPU_ENABLED=false

# Safe Executor Worker (for Meta Ads API)
SAFE_EXECUTOR_WORKER_ID=safe-executor-1
SAFE_EXECUTOR_POLL_INTERVAL_MS=5000
BATCH_MODE_ENABLED=true
BATCH_SIZE=10

# General Worker Config
WORKER_SHUTDOWN_TIMEOUT=30
WORKER_HEARTBEAT_INTERVAL=10
POLL_INTERVAL_MS=5000

# =============================================================================
# Monitoring & Observability (Optional)
# =============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog (APM & Metrics)
DATADOG_API_KEY=
DATADOG_APP_KEY=
DATADOG_SITE=datadoghq.com
DATADOG_SERVICE_NAME=geminivideo
DATADOG_ENV=production

# Prometheus
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_URL=http://grafana:3001
GRAFANA_API_KEY=

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# =============================================================================
# Notifications (Optional)
# =============================================================================

# SMTP Configuration (for email notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@your-domain.com
SMTP_FROM_NAME=GeminiVideo Platform

# SendGrid (alternative to SMTP)
# SENDGRID_API_KEY=SG.your_sendgrid_api_key

# Slack Integration (for alerts)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#alerts
SLACK_BOT_TOKEN=

# Discord Webhooks
DISCORD_WEBHOOK_URL=

# =============================================================================
# Third-Party Integrations (Optional)
# =============================================================================

# Stripe (for payments/billing)
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# YouTube API (for content research)
YOUTUBE_API_KEY=

# Zapier (for workflow automation)
ZAPIER_WEBHOOK_URL=

# Segment (for analytics)
SEGMENT_WRITE_KEY=

# Mixpanel (for product analytics)
MIXPANEL_TOKEN=

# =============================================================================
# SSL/TLS Configuration (Production)
# =============================================================================

# SSL Certificates (for Docker deployment with reverse proxy)
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/your-domain.pem
SSL_KEY_PATH=/etc/ssl/private/your-domain-key.pem
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.pem

# Let's Encrypt (for automatic SSL)
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_STAGING=false

# =============================================================================
# Cloudflare (Optional - for CDN, R2, Stream)
# =============================================================================

# Cloudflare Account
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_TOKEN=

# Cloudflare R2 Storage (S3-compatible)
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_ACCOUNT_ID=
R2_BUCKET=
R2_ENDPOINT=
R2_PUBLIC_URL=

# Cloudflare Stream (for video hosting)
CLOUDFLARE_STREAM_ACCOUNT_ID=
CLOUDFLARE_STREAM_API_TOKEN=

# Cloudflare Images
CLOUDFLARE_IMAGES_ACCOUNT_HASH=
CLOUDFLARE_IMAGES_API_TOKEN=

# =============================================================================
# AWS / S3 Storage (Alternative to GCS)
# =============================================================================

# AWS Credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# S3 Configuration
S3_BUCKET=
S3_ENDPOINT=https://s3.amazonaws.com
S3_USE_PATH_STYLE_ENDPOINT=false
S3_SIGNATURE_VERSION=s3v4
S3_MAX_RETRIES=3
S3_TIMEOUT=30000

# =============================================================================
# Development & Testing
# =============================================================================

# Development Mode
HOT_RELOAD_ENABLED=false

# Testing
TEST_DATABASE_URL=postgresql://test:test@localhost:5433/geminivideo_test
TEST_REDIS_URL=redis://localhost:6380
RUN_INTEGRATION_TESTS=false

# Mock Data (for development)
USE_MOCK_AI=false
USE_MOCK_ADS=false
MOCK_DELAY_MS=100

# =============================================================================
# Deployment Configuration (Production)
# =============================================================================

# Image Registry (for container deployments)
REGISTRY_URL=us-central1-docker.pkg.dev/your-project/geminivideo
IMAGE_TAG=latest

# Vercel (for frontend deployment)
VERCEL_TOKEN=

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=30
BACKUP_BUCKET=gs://your-backup-bucket

# =============================================================================
# VALIDATION CHECKLIST
# =============================================================================
#
# Before deploying to production, ensure:
#
# [✓] All REQUIRED sections are filled out (Database, Redis, AI APIs, Security)
# [✓] All passwords are strong (min 32 chars, random generation recommended)
# [✓] JWT_SECRET is randomly generated: openssl rand -base64 64
# [✓] API keys are valid and have appropriate quotas/rate limits
# [✓] CORS_ORIGINS includes only your actual domains (no wildcards in prod)
# [✓] DATABASE_URL uses strong password (not default)
# [✓] Firebase configuration matches your project
# [✓] Service URLs match your deployment architecture
# [✓] All .env files are in .gitignore (never commit secrets!)
#
# Recommended: Run validation script
# bash scripts/validate-env.sh .env
#
# =============================================================================
