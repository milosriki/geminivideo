# =============================================================================
# Gemini Video - Production Environment Configuration Template
# =============================================================================
# SECURITY WARNING: Never commit actual credentials to version control
# Copy this file to .env.production and fill in your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# Deployment Environment
# -----------------------------------------------------------------------------
NODE_ENV=production
VITE_ENV=production

# Image registry and versioning
REGISTRY_URL=us-central1-docker.pkg.dev/your-project/geminivideo
IMAGE_TAG=latest

# -----------------------------------------------------------------------------
# Database Configuration (Required)
# -----------------------------------------------------------------------------
# PostgreSQL production credentials
POSTGRES_USER=geminivideo
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD_HERE_MIN_32_CHARS
POSTGRES_DB=geminivideo
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB

# Full connection string
DATABASE_URL=postgresql://geminivideo:YOUR_SECURE_PASSWORD_HERE@postgres:5432/geminivideo

# For managed databases (Supabase, Cloud SQL, etc.)
# DATABASE_URL=postgresql://user:password@host.supabase.co:5432/postgres

# -----------------------------------------------------------------------------
# Redis Configuration (Required)
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379
# For managed Redis (e.g., Redis Cloud)
# REDIS_URL=redis://username:password@your-redis-host:port

# -----------------------------------------------------------------------------
# AI Model API Keys (Required)
# -----------------------------------------------------------------------------
# Google Gemini API
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL_ID=gemini-2.0-flash-thinking-exp-1219

# Anthropic Claude API (optional)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI API (optional)
OPENAI_API_KEY=your_openai_api_key_here

# -----------------------------------------------------------------------------
# Meta Marketing API Configuration (Required for Publishing)
# -----------------------------------------------------------------------------
META_ACCESS_TOKEN=your_long_lived_meta_access_token
META_AD_ACCOUNT_ID=act_1234567890
META_PAGE_ID=your_meta_page_id
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_CLIENT_TOKEN=your_meta_client_token

# -----------------------------------------------------------------------------
# Google Cloud Platform Configuration (Required)
# -----------------------------------------------------------------------------
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GCS_BUCKET_NAME=your-gcs-bucket-name

# Path to GCP service account JSON (for local deployment)
# GCP_SERVICE_ACCOUNT_JSON=/path/to/service-account.json

# -----------------------------------------------------------------------------
# Service URLs (Production)
# -----------------------------------------------------------------------------
# External gateway URL (for frontend)
VITE_GATEWAY_URL=https://gateway-api-xxxxx.run.app
VITE_DRIVE_INTEL_URL=https://drive-intel-xxxxx.run.app

# Internal service URLs (Docker Compose - leave as is)
# These are used for container-to-container communication
GATEWAY_API_URL=http://gateway-api:8080
DRIVE_INTEL_URL=http://drive-intel:8081
VIDEO_AGENT_URL=http://video-agent:8082
ML_SERVICE_URL=http://ml-service:8003
META_PUBLISHER_URL=http://meta-publisher:8083
TITAN_CORE_URL=http://titan-core:8084

# -----------------------------------------------------------------------------
# Firebase Configuration (Frontend Authentication)
# -----------------------------------------------------------------------------
VITE_FIREBASE_API_KEY=AIzaSy...
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abcdef123456
VITE_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX

# -----------------------------------------------------------------------------
# Security Configuration (Required for Production)
# -----------------------------------------------------------------------------
# JWT secret for API authentication (generate with: openssl rand -base64 64)
JWT_SECRET=your_very_long_random_secret_key_at_least_64_characters_recommended

# CORS allowed origins (comma-separated, no spaces)
CORS_ORIGINS=https://your-frontend-domain.com,https://www.your-domain.com

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Logging level: error, warn, info, debug
LOG_LEVEL=info

# Debug mode (should be false in production)
DEBUG=false

# Storage paths
TEMP_STORAGE_PATH=/tmp/geminivideo
OUTPUT_STORAGE_PATH=/app/data/outputs
CONFIG_PATH=/app/shared/config

# -----------------------------------------------------------------------------
# Video Processing Configuration
# -----------------------------------------------------------------------------
# Maximum video file size in MB
MAX_VIDEO_SIZE_MB=500

# Video quality: low, medium, high, ultra
VIDEO_QUALITY=high

# FFmpeg encoding threads
FFMPEG_THREADS=4

# -----------------------------------------------------------------------------
# ML Model Configuration
# -----------------------------------------------------------------------------
# Minimum samples required before updating weights
MIN_SAMPLES_FOR_UPDATE=50

# Learning rate for weight updates
LEARNING_RATE=0.01

# Maximum weight change per update
MAX_WEIGHT_DELTA=0.1

# -----------------------------------------------------------------------------
# A/B Testing and Thompson Sampling
# -----------------------------------------------------------------------------
# Enable Thompson Sampling for variant selection
ENABLE_THOMPSON_SAMPLING=true

# Minimum conversions before declaring winner
MIN_CONVERSIONS_FOR_WINNER=30

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_ANALYTICS=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_MCP_INTEGRATION=false

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
# Drive Intel worker settings
DRIVE_INTEL_MAX_WORKERS=4
DRIVE_INTEL_BATCH_SIZE=10
DRIVE_WORKER_CONCURRENCY=4
DRIVE_WORKER_REPLICAS=2

# Video Agent worker settings
VIDEO_WORKER_CONCURRENCY=2
VIDEO_WORKER_REPLICAS=2

# -----------------------------------------------------------------------------
# Cloud Run Deployment Settings (for deploy script)
# -----------------------------------------------------------------------------
CLOUD_RUN_REGION=us-central1
CLOUD_RUN_MIN_INSTANCES=1
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_TIMEOUT=600

# Service account for Cloud Run
CLOUD_RUN_SERVICE_ACCOUNT=your-service-account@project.iam.gserviceaccount.com

# -----------------------------------------------------------------------------
# Monitoring and Alerting (Optional)
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking
# SENTRY_DSN=https://xxx@sentry.io/xxx

# New Relic license key
# NEW_RELIC_LICENSE_KEY=your_license_key

# DataDog API key
# DATADOG_API_KEY=your_api_key

# -----------------------------------------------------------------------------
# Backup and Disaster Recovery
# -----------------------------------------------------------------------------
# Database backup bucket
# BACKUP_BUCKET=gs://your-backup-bucket

# Backup retention days
# BACKUP_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# SSL/TLS Configuration (if using custom domains)
# -----------------------------------------------------------------------------
# SSL certificate path (for Docker deployment)
# SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
# SSL_KEY_PATH=/etc/ssl/private/your-key.pem

# Let's Encrypt email for automatic SSL
# LETSENCRYPT_EMAIL=admin@your-domain.com

# -----------------------------------------------------------------------------
# Rate Limiting and Throttling
# -----------------------------------------------------------------------------
# API rate limits (requests per minute)
# RATE_LIMIT_RPM=100
# RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# Email Configuration (for notifications)
# -----------------------------------------------------------------------------
# SMTP settings
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@your-domain.com

# -----------------------------------------------------------------------------
# Slack Integration (for alerts)
# -----------------------------------------------------------------------------
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx

# -----------------------------------------------------------------------------
# Production Checklist
# -----------------------------------------------------------------------------
# Before deploying to production, ensure:
#
# [✓] All passwords are strong and unique (min 32 characters)
# [✓] JWT_SECRET is randomly generated and secure
# [✓] All API keys are valid and have proper quotas
# [✓] CORS_ORIGINS includes only your actual domains
# [✓] SSL certificates are configured (if not using Cloud Run)
# [✓] Database backups are enabled
# [✓] Monitoring and alerting are set up
# [✓] Log rotation is configured
# [✓] Resource limits are appropriate for your workload
# [✓] Security scanning is enabled
# [✓] Secrets are stored in a secure vault (not in .env files)
# [✓] Environment variables are set in your deployment platform
#
# =============================================================================
