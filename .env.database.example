# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Option 1: Single DATABASE_URL (RECOMMENDED)
# Copy this file to .env and update with your actual credentials
# Format: postgresql://[user]:[password]@[host]:[port]/[database]

# Local PostgreSQL
DATABASE_URL=postgresql://geminivideo:YOUR_PASSWORD_HERE@localhost:5432/geminivideo

# Docker PostgreSQL
# DATABASE_URL=postgresql://geminivideo:YOUR_PASSWORD_HERE@postgres:5432/geminivideo

# Supabase
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD_HERE@db.YOUR_PROJECT.supabase.co:5432/postgres

# Supabase with Connection Pooling (Recommended for production)
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD_HERE@db.YOUR_PROJECT.supabase.co:6543/postgres?pgbouncer=true

# Google Cloud SQL (Public IP)
# DATABASE_URL=postgresql://geminivideo:YOUR_PASSWORD_HERE@35.XXX.XXX.XXX:5432/geminivideo

# Google Cloud SQL (Unix Socket)
# DATABASE_URL=postgresql://geminivideo:YOUR_PASSWORD_HERE@/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME/geminivideo

# AWS RDS
# DATABASE_URL=postgresql://geminivideo:YOUR_PASSWORD_HERE@your-instance.region.rds.amazonaws.com:5432/geminivideo

# =============================================================================
# Option 2: Individual Components
# The migration runner will construct DATABASE_URL from these if DATABASE_URL is not set
# =============================================================================

POSTGRES_USER=geminivideo
POSTGRES_PASSWORD=YOUR_PASSWORD_HERE
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=geminivideo

# =============================================================================
# CONNECTION POOLING (PRODUCTION)
# =============================================================================

# Maximum number of connections
# DB_POOL_SIZE=20

# Connection timeout in seconds
# DB_POOL_TIMEOUT=30

# Connection acquire timeout
# DB_CONNECT_TIMEOUT=10

# =============================================================================
# SSL CONFIGURATION (PRODUCTION)
# =============================================================================

# Require SSL connections
# DATABASE_SSL_MODE=require

# Path to SSL certificates (if needed)
# DATABASE_SSL_CERT=/path/to/client-cert.pem
# DATABASE_SSL_KEY=/path/to/client-key.pem
# DATABASE_SSL_ROOT_CERT=/path/to/server-ca.pem

# =============================================================================
# TEST DATABASE (OPTIONAL)
# =============================================================================

# Separate database for running tests
TEST_DATABASE_URL=postgresql://geminivideo:YOUR_PASSWORD_HERE@localhost:5433/geminivideo_test

# =============================================================================
# MIGRATION SETTINGS
# =============================================================================

# Auto-run migrations on startup (development only)
# AUTO_MIGRATE=false

# Migration timeout in seconds
# MIGRATION_TIMEOUT=300

# =============================================================================
# QUICK SETUP INSTRUCTIONS
# =============================================================================
#
# 1. Copy this file:
#    cp .env.database.example .env
#
# 2. Update DATABASE_URL with your actual credentials
#
# 3. Test connection:
#    psql $DATABASE_URL -c "SELECT version();"
#
# 4. Run migrations:
#    python database/migrations/run_migrations.py
#
# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# ⚠️  NEVER commit .env files to git
# ✅  Use strong passwords (32+ characters)
# ✅  Rotate credentials regularly (every 90 days)
# ✅  Use different passwords for each environment
# ✅  Enable SSL in production
# ✅  Use connection pooling for production
# ✅  Restrict database access to specific IPs
#
# Generate secure password:
# openssl rand -base64 32
#
# =============================================================================
